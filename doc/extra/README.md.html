<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>&#39;CoffeeScript_Salsa_API&#39;</title>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Api_playground'>
      Api_playground
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>README.md</span>
  </div>
</div>
    <div id='content'>
      <nav class='toc'>
        <p class='title'>
          <a class='hide_toc' href='#'>
            <strong>Table of Contents</strong>
          </a>
          <small>
            (<a class='float_toc' href='#'>left</a>)
          </small>
        </p>
      </nav>
      <div id='filecontents'>
        <h1 id="api-playground">API Playground</h1>
<h2 id="description">Description</h2><p>The Salsa API in a CoffeeScript class.  Plus lots of exciting and informative examples!</p><h2 id="dependencies">Dependencies</h2>
<ul>
<li><a href="https://github.com/caolan/async">Async</a> for handing synchronicity in an asynchronous world</li>
<li><a href="http://coffeescript.org/">Coffeescript</a> Coffeescript engine that uses Node.js</li>
<li><a href="https://github.com/tmpvar/jsdom">JSDom</a> for parsing HTML</li>
<li><a href="http://nodejs.org/api/">Node.js</a> Javascript engine</li>
<li><a href="https://github.com/mikeal/request">Request</a> for reading and writing web resources</li>
<li><a href="http://underscorejs.org/">Underscore</a> <em>awesome</em> collection of array and object manipulation functions</li>
</ul><p>Other less-used dependencies are listed in <code>package.json</code></p><h2 id="installation">Installation</h2>
<pre><code>npm install api_playground.[[version]].tgz
</code></pre><h2 id="examples">Examples</h2>
<h3 id="initialization">Initialization</h3>
<pre><code class="lang-coffee">    {API}    = require &#39;api_playground&#39;
    util     = require &#39;util&#39;
    options = 
        hostname: &#39;larry.salsalabs.com&#39;
        email   : &#39;larry@lounge.lizard&#39;
        password: &#39;larry-larry-larry&#39;

    api = new API options
</code></pre><p>An obect can also be installed with a JSON object in the source tree.  For example, for a file named <code>config/myorg.json</code>
with these contents:</p><pre><code class="lang-javascript">{
    &quot;hostname&quot;:  &quot;something.salsalabs.com&quot;,
    &quot;email&quot;:  &quot;whoever@whatever.com&quot;,
    &quot;password&quot;:  &quot;extra-super-secret-password-that&#39;s-not-this-password&quot;
 }
</code></pre><p>the authentication would look like this:</p><pre><code class="lang-coffee">    {API}    = require &#39;api_playground&#39;
    myorg    = require &#39;config/myorg.json&#39;

    api = new API myorg
</code></pre>
<h3 id="authentication">Authentication</h3>
<pre><code class="lang-coffee">    api.authenticate (err, response) -&gt;
        if err?
            console.log &quot;Unable to login, #{response}&quot;
            process.exit 0
</code></pre>
<h3 id="read-a-record">Read a record</h3>
<pre><code class="lang-coffee">    api.getObject object: &#39;supporter&#39;, key: 123456, json:true, (err, supporter) -&gt;
        throw err if err?
        console.log &quot;Supporter #{supporter.supporter_KEY} has email #{supporter.Email}&quot;
</code></pre><p><strong><em>or</em></strong></p><pre><code class="lang-coffee">    queries =
        object: &#39;supporter&#39;
        key:    &#39;123456&#39;
        json:   true

    api.getObject queries, (err, supporter) -&gt;
        throw err if err?
        console.log &quot;Supporter #{supporter.supporter_KEY} has email #{supporter.Email}&quot;
</code></pre>
<h3 id="save-a-record">Save a record</h3>
<pre><code class="lang-coffee">    api.save supporter, (err, response) -&gt;
        throw err if err?
        console.log &quot;Saving supporter returned #{util.inspect response}&quot;
        process.exit 0
</code></pre>
<h3 id="read-many-records">Read many records</h3>
<pre><code class="lang-coffee">    queries =
        condition: &#39;amount&gt;500&#39;
        include: &#39;Transaction_Date,First_Name,Last_Name,amount&#39;
        json:    true
        limit:   &#39;10,20&#39;
        object:  &#39;donation&#39;
        orderBy: &#39;Last_Name,First_Name,Email&#39;

    api.getObjects queries, (err, donations) -&gt;
        throw err if err?
        console.log &quot;Read returned #{donations.length} objects.&quot;
        for donation in donations
            console.log &quot;#{donation.Transaction_Date} #{donation.First_Name} #{donation.Last_Name} #{donation.amount}&quot;
</code></pre><p><strong><em>Note:</em></strong> Version 1.x can only handle a single <em>condition</em>.</p><h3 id="read-tagged-records">Read tagged records</h3>
<pre><code class="lang-coffee">    supporter_KEY = 123456
    queries =
        json:      true
        object:    &quot;action&quot;
        tag:       &quot;bangarang&quot;
        includes:  &#39;action_KEY,Reference_Name&#39;
        condition: &#39;supporter_KEY=#{supporter_KEY}&#39;

    api.getTaggedObjects queries, (err, actions) -&gt;
        throw err if err?
        console.log &quot;Read returned #{actions.length} objects.&quot;
        for action in actions
            console.log &quot;#{action_KEY} #{action.Reference_Name}&quot;
</code></pre><p><strong><em>Note:</em></strong> Version 1.x can only handle a single <em>condition</em>.</p><p><strong><em>Note:</em></strong> <em>includes</em> is ignored.  A case is open to fix this problem.</p><h2 id="documentation">Documentation</h2><p>Documentation is created by &#39;codo&#39;, and can can be found in the repository in the &#39;doc&#39; directory.
Markup documentation can be found <a href="https://help.github.com/articles/github-flavored-markdown">here</a>.</p>
      </div>
    </div>
    <div id='footer'>
  October 01, 14 10:56:40 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.8
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>